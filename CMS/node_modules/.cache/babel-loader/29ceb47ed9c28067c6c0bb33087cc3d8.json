{"ast":null,"code":"var _jsxFileName = \"/home/haopc/Desktop/Workspace/hquiz.com/CMS/src/features/Category/pages/List.js\",\n    _s = $RefreshSig$();\n\nimport plusFill from '@iconify/icons-eva/plus-fill';\nimport { Icon } from '@iconify/react';\nimport { Button, Card, Checkbox, CircularProgress, Container, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, FormControl, Grid, InputLabel, MenuItem, Select, Stack, Table, TableBody, TableCell, TableContainer, TablePagination, TableRow, Typography } from '@material-ui/core';\nimport { Box } from '@material-ui/system';\nimport categoryApi from 'apis/categoryApi';\nimport { sentenceCase } from 'change-case';\nimport { ListToolbar, MoreMenu, TableHeadList } from 'components/common';\nimport Label from 'components/Label';\nimport Page from 'components/Page';\nimport Scrollbar from 'components/Scrollbar';\nimport { STATUS_LIST } from 'constants/index';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TABLE_HEAD = [{\n  id: 'title',\n  label: 'Title',\n  alignRight: false\n}, {\n  id: 'id',\n  label: 'Id',\n  alignRight: false\n}, {\n  id: 'slug',\n  label: 'Slug',\n  alignRight: false\n}, {\n  id: 'status',\n  label: 'Status',\n  alignRight: false\n}, {\n  id: ''\n}];\nexport const CategoryList = () => {\n  _s();\n\n  const history = useHistory();\n  const [count, setCount] = useState(10);\n  const [selected, setSelected] = useState([]);\n  const [categoryList, setCategoryList] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [idDelete, setIdDelete] = useState('');\n  const [filters, setFilters] = useState({\n    page: 0,\n    limit: 15,\n    order: 'asc',\n    orderBy: 'title',\n    filterName: '',\n    status: ''\n  });\n  const fetchCategoryList = useCallback(async formValues => {\n    try {\n      setLoading(true);\n      const res = await categoryApi.getList({\n        page: formValues.page + 1,\n        limit: formValues.limit,\n        order: formValues.order,\n        orderBy: formValues.orderBy,\n        title_like: formValues.filterName,\n        status: formValues.status\n      });\n      const {\n        _total\n      } = res.data.pagination;\n      const {\n        categories\n      } = res.data;\n      setCategoryList(categories);\n      setCount(_total);\n      setLoading(false);\n    } catch (error) {\n      toast.error(error.response.data.error);\n      setCategoryList([]);\n      setLoading(false);\n    }\n  }, []);\n  useEffect(() => {\n    fetchCategoryList(filters);\n  }, [filters, fetchCategoryList]); // Function Table\n\n  const handleRequestSort = (event, property) => {\n    const isAsc = filters.orderBy === property && filters.order === 'asc';\n    setFilters(prev => ({ ...prev,\n      order: isAsc ? 'desc' : 'asc',\n      orderBy: property\n    }));\n  };\n\n  const handleSelectAllClick = event => {\n    if (event.target.checked) {\n      const newSelecteds = categoryList.map(n => n._id);\n      setSelected(newSelecteds);\n      return;\n    }\n\n    setSelected([]);\n  };\n\n  const handleClick = (event, name) => {\n    const selectedIndex = selected.indexOf(name);\n    let newSelected = [];\n\n    if (selectedIndex === -1) {\n      newSelected = newSelected.concat(selected, name);\n    } else if (selectedIndex === 0) {\n      newSelected = newSelected.concat(selected.slice(1));\n    } else if (selectedIndex === selected.length - 1) {\n      newSelected = newSelected.concat(selected.slice(0, -1));\n    } else if (selectedIndex > 0) {\n      newSelected = newSelected.concat(selected.slice(0, selectedIndex), selected.slice(selectedIndex + 1));\n    }\n\n    setSelected(newSelected);\n  };\n\n  const handleChangePage = (event, newPage) => {\n    setFilters(prev => ({ ...prev,\n      page: newPage\n    }));\n  };\n\n  const handleChangeRowsPerPage = event => {\n    setFilters(prev => ({ ...prev,\n      limit: parseInt(event.target.value, 10),\n      page: 0\n    }));\n  }; // Handle Category\n\n\n  const handleFilterByName = value => {\n    setFilters(prev => ({ ...prev,\n      filterName: value\n    }));\n  };\n\n  const handleDelete = categoryId => {\n    setOpen(true);\n\n    if (typeof categoryId === 'string') {\n      setIdDelete([].concat(categoryId));\n      return;\n    }\n\n    setIdDelete(categoryId);\n  };\n\n  const onDeleteCategory = async () => {\n    try {\n      await categoryApi.delete(idDelete);\n      fetchCategoryList(filters);\n      toast.success('Xóa danh mục thành công');\n    } catch (error) {\n      toast(error.response.data.error);\n    }\n\n    setOpen(false);\n    setSelected([]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Page, {\n      title: \"Danh m\\u1EE5c | CMS\",\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        maxWidth: \"xl\",\n        children: [/*#__PURE__*/_jsxDEV(Stack, {\n          direction: \"row\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n          mb: 5,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h4\",\n            gutterBottom: true,\n            children: \"Danh m\\u1EE5c\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            component: RouterLink,\n            to: \"/dashboard/category/create\",\n            startIcon: /*#__PURE__*/_jsxDEV(Icon, {\n              icon: plusFill\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 26\n            }, this),\n            children: \"T\\u1EA1o danh m\\u1EE5c\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(ListToolbar, {\n            numSelected: selected.length,\n            onFilterName: handleFilterByName,\n            handleDelete: () => handleDelete(selected)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            padding: 1,\n            pb: 4,\n            spacing: 1,\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 2,\n              children: /*#__PURE__*/_jsxDEV(FormControl, {\n                variant: \"outlined\",\n                fullWidth: true,\n                children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                  id: \"status\",\n                  children: \"Tr\\u1EA1ng th\\xE1i\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  defaultValue: \"\",\n                  labelId: \"status\",\n                  id: \"status\",\n                  label: \"Tr\\u1EA1ng th\\xE1i\",\n                  onChange: event => setFilters(prev => ({ ...prev,\n                    status: event.target.value\n                  })),\n                  children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: \"\",\n                    children: /*#__PURE__*/_jsxDEV(\"em\", {\n                      children: \"T\\u1EA5t c\\u1EA3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 209,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 21\n                  }, this), STATUS_LIST.map((status, index) => /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: status.value,\n                    children: status.lable\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 23\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this), loading ? /*#__PURE__*/_jsxDEV(Stack, {\n            mb: 2,\n            display: \"flex\",\n            alignItems: \"center\",\n            children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n              color: \"primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Scrollbar, {\n              children: /*#__PURE__*/_jsxDEV(TableContainer, {\n                sx: {\n                  minWidth: 800\n                },\n                children: /*#__PURE__*/_jsxDEV(Table, {\n                  children: [/*#__PURE__*/_jsxDEV(TableHeadList, {\n                    headLabel: TABLE_HEAD,\n                    order: filters.order,\n                    orderBy: filters.orderBy,\n                    rowCount: categoryList.length,\n                    numSelected: selected.length,\n                    onRequestSort: handleRequestSort,\n                    onSelectAllClick: handleSelectAllClick\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n                    children: categoryList.map(row => {\n                      const {\n                        _id,\n                        title,\n                        slug,\n                        status\n                      } = row;\n                      const isItemSelected = selected.indexOf(_id) !== -1;\n                      const isStatus = status === 'ACTIVE' ? 'success' : 'banned';\n                      return /*#__PURE__*/_jsxDEV(TableRow, {\n                        hover: true,\n                        tabIndex: -1,\n                        role: \"checkbox\",\n                        selected: isItemSelected,\n                        \"aria-checked\": isItemSelected,\n                        children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                          padding: \"checkbox\",\n                          children: /*#__PURE__*/_jsxDEV(Checkbox, {\n                            checked: isItemSelected,\n                            onChange: event => handleClick(event, _id)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 253,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 252,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                          align: \"left\",\n                          children: title\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 258,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                          align: \"left\",\n                          children: _id\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 259,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                          align: \"left\",\n                          children: slug\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 260,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                          align: \"left\",\n                          children: /*#__PURE__*/_jsxDEV(Label, {\n                            variant: \"ghost\",\n                            color: isStatus === 'banned' && 'error' || 'success',\n                            children: sentenceCase(status)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 262,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 261,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                          align: \"left\",\n                          children: /*#__PURE__*/_jsxDEV(MoreMenu, {\n                            handleDelete: () => handleDelete(_id),\n                            setOpen: setOpen,\n                            handleEdit: () => history.push(`/dashboard/category/edit/${_id}`)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 270,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 269,\n                          columnNumber: 31\n                        }, this)]\n                      }, _id, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 244,\n                        columnNumber: 29\n                      }, this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 238,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 17\n            }, this), categoryList.length <= 0 && /*#__PURE__*/_jsxDEV(Box, {\n              textAlign: \"center\",\n              mt: 5,\n              children: [' ', /*#__PURE__*/_jsxDEV(Typography, {\n                children: \"Hi\\u1EC7n t\\u1EA1i ch\\u01B0a c\\xF3 danh m\\u1EE5c n\\xE0o\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TablePagination, {\n              rowsPerPageOptions: [5, 10, 15, 20, 25],\n              component: \"div\",\n              count: count,\n              rowsPerPage: filters.limit,\n              page: filters.page,\n              onPageChange: handleChangePage,\n              onRowsPerPageChange: handleChangeRowsPerPage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: open,\n      onClose: () => setOpen(false),\n      \"aria-labelledby\": \"alert-dialog-title\",\n      \"aria-describedby\": \"alert-dialog-description\",\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        id: \"alert-dialog-title\",\n        children: \"X\\xF3a Danh M\\u1EE5c\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n          id: \"alert-dialog-description\",\n          children: \"B\\u1EA1n c\\xF3 ch\\u0103c ch\\u1EAFn mu\\u1ED1n x\\xF3a danh m\\u1EE5c n\\xE0y kh\\xF4ng ?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setOpen(false),\n          color: \"primary\",\n          children: \"H\\u1EE7y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => onDeleteCategory(),\n          color: \"primary\",\n          autoFocus: true,\n          children: \"\\u0110\\u1ED3ng \\xFD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(CategoryList, \"ELBrw02UfP7zIx7Azmk1rNQlubs=\", false, function () {\n  return [useHistory];\n});\n\n_c = CategoryList;\n\nvar _c;\n\n$RefreshReg$(_c, \"CategoryList\");","map":{"version":3,"sources":["/home/haopc/Desktop/Workspace/hquiz.com/CMS/src/features/Category/pages/List.js"],"names":["plusFill","Icon","Button","Card","Checkbox","CircularProgress","Container","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","FormControl","Grid","InputLabel","MenuItem","Select","Stack","Table","TableBody","TableCell","TableContainer","TablePagination","TableRow","Typography","Box","categoryApi","sentenceCase","ListToolbar","MoreMenu","TableHeadList","Label","Page","Scrollbar","STATUS_LIST","React","useCallback","useEffect","useState","useHistory","Link","RouterLink","toast","TABLE_HEAD","id","label","alignRight","CategoryList","history","count","setCount","selected","setSelected","categoryList","setCategoryList","open","setOpen","loading","setLoading","idDelete","setIdDelete","filters","setFilters","page","limit","order","orderBy","filterName","status","fetchCategoryList","formValues","res","getList","title_like","_total","data","pagination","categories","error","response","handleRequestSort","event","property","isAsc","prev","handleSelectAllClick","target","checked","newSelecteds","map","n","_id","handleClick","name","selectedIndex","indexOf","newSelected","concat","slice","length","handleChangePage","newPage","handleChangeRowsPerPage","parseInt","value","handleFilterByName","handleDelete","categoryId","onDeleteCategory","delete","success","index","lable","minWidth","row","title","slug","isItemSelected","isStatus","push"],"mappings":"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","sourcesContent":["import plusFill from '@iconify/icons-eva/plus-fill';\nimport { Icon } from '@iconify/react';\nimport {\n  Button,\n  Card,\n  Checkbox,\n  CircularProgress,\n  Container,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  FormControl,\n  Grid,\n  InputLabel,\n  MenuItem,\n  Select,\n  Stack,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TablePagination,\n  TableRow,\n  Typography\n} from '@material-ui/core';\nimport { Box } from '@material-ui/system';\nimport categoryApi from 'apis/categoryApi';\nimport { sentenceCase } from 'change-case';\nimport { ListToolbar, MoreMenu, TableHeadList } from 'components/common';\nimport Label from 'components/Label';\nimport Page from 'components/Page';\nimport Scrollbar from 'components/Scrollbar';\nimport { STATUS_LIST } from 'constants/index';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { toast } from 'react-toastify';\n\nconst TABLE_HEAD = [\n  { id: 'title', label: 'Title', alignRight: false },\n  { id: 'id', label: 'Id', alignRight: false },\n  { id: 'slug', label: 'Slug', alignRight: false },\n  { id: 'status', label: 'Status', alignRight: false },\n  { id: '' }\n];\n\nexport const CategoryList = () => {\n  const history = useHistory();\n\n  const [count, setCount] = useState(10);\n  const [selected, setSelected] = useState([]);\n  const [categoryList, setCategoryList] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [idDelete, setIdDelete] = useState('');\n  const [filters, setFilters] = useState({\n    page: 0,\n    limit: 15,\n    order: 'asc',\n    orderBy: 'title',\n    filterName: '',\n    status: ''\n  });\n\n  const fetchCategoryList = useCallback(async (formValues) => {\n    try {\n      setLoading(true);\n      const res = await categoryApi.getList({\n        page: formValues.page + 1,\n        limit: formValues.limit,\n        order: formValues.order,\n        orderBy: formValues.orderBy,\n        title_like: formValues.filterName,\n        status: formValues.status\n      });\n      const { _total } = res.data.pagination;\n      const { categories } = res.data;\n      setCategoryList(categories);\n      setCount(_total);\n      setLoading(false);\n    } catch (error) {\n      toast.error(error.response.data.error);\n      setCategoryList([]);\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchCategoryList(filters);\n  }, [filters, fetchCategoryList]);\n\n  // Function Table\n  const handleRequestSort = (event, property) => {\n    const isAsc = filters.orderBy === property && filters.order === 'asc';\n    setFilters((prev) => ({\n      ...prev,\n      order: isAsc ? 'desc' : 'asc',\n      orderBy: property\n    }));\n  };\n  const handleSelectAllClick = (event) => {\n    if (event.target.checked) {\n      const newSelecteds = categoryList.map((n) => n._id);\n      setSelected(newSelecteds);\n      return;\n    }\n    setSelected([]);\n  };\n  const handleClick = (event, name) => {\n    const selectedIndex = selected.indexOf(name);\n    let newSelected = [];\n    if (selectedIndex === -1) {\n      newSelected = newSelected.concat(selected, name);\n    } else if (selectedIndex === 0) {\n      newSelected = newSelected.concat(selected.slice(1));\n    } else if (selectedIndex === selected.length - 1) {\n      newSelected = newSelected.concat(selected.slice(0, -1));\n    } else if (selectedIndex > 0) {\n      newSelected = newSelected.concat(\n        selected.slice(0, selectedIndex),\n        selected.slice(selectedIndex + 1)\n      );\n    }\n    setSelected(newSelected);\n  };\n  const handleChangePage = (event, newPage) => {\n    setFilters((prev) => ({\n      ...prev,\n      page: newPage\n    }));\n  };\n  const handleChangeRowsPerPage = (event) => {\n    setFilters((prev) => ({\n      ...prev,\n      limit: parseInt(event.target.value, 10),\n      page: 0\n    }));\n  };\n\n  // Handle Category\n  const handleFilterByName = (value) => {\n    setFilters((prev) => ({\n      ...prev,\n      filterName: value\n    }));\n  };\n  const handleDelete = (categoryId) => {\n    setOpen(true);\n    if (typeof categoryId === 'string') {\n      setIdDelete([].concat(categoryId));\n      return;\n    }\n    setIdDelete(categoryId);\n  };\n  const onDeleteCategory = async () => {\n    try {\n      await categoryApi.delete(idDelete);\n      fetchCategoryList(filters);\n      toast.success('Xóa danh mục thành công');\n    } catch (error) {\n      toast(error.response.data.error);\n    }\n    setOpen(false);\n    setSelected([]);\n  };\n\n  return (\n    <>\n      <Page title=\"Danh mục | CMS\">\n        <Container maxWidth=\"xl\">\n          <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\" mb={5}>\n            <Typography variant=\"h4\" gutterBottom>\n              Danh mục\n            </Typography>\n            <Button\n              variant=\"contained\"\n              component={RouterLink}\n              to=\"/dashboard/category/create\"\n              startIcon={<Icon icon={plusFill} />}\n            >\n              Tạo danh mục\n            </Button>\n          </Stack>\n          <Card>\n            <ListToolbar\n              numSelected={selected.length}\n              onFilterName={handleFilterByName}\n              handleDelete={() => handleDelete(selected)}\n            />\n            <Grid container padding={1} pb={4} spacing={1}>\n              <Grid item xs={2}>\n                <FormControl variant=\"outlined\" fullWidth>\n                  <InputLabel id=\"status\">Trạng thái</InputLabel>\n                  <Select\n                    defaultValue=\"\"\n                    labelId=\"status\"\n                    id=\"status\"\n                    label=\"Trạng thái\"\n                    onChange={(event) =>\n                      setFilters((prev) => ({\n                        ...prev,\n                        status: event.target.value\n                      }))\n                    }\n                  >\n                    <MenuItem value=\"\">\n                      <em>Tất cả</em>\n                    </MenuItem>\n                    {STATUS_LIST.map((status, index) => (\n                      <MenuItem value={status.value} key={index}>\n                        {status.lable}\n                      </MenuItem>\n                    ))}\n                  </Select>\n                </FormControl>\n              </Grid>\n            </Grid>\n            {loading ? (\n              <Stack mb={2} display=\"flex\" alignItems=\"center\">\n                <CircularProgress color=\"primary\" />\n              </Stack>\n            ) : (\n              <>\n                <Scrollbar>\n                  <TableContainer sx={{ minWidth: 800 }}>\n                    <Table>\n                      <TableHeadList\n                        headLabel={TABLE_HEAD}\n                        order={filters.order}\n                        orderBy={filters.orderBy}\n                        rowCount={categoryList.length}\n                        numSelected={selected.length}\n                        onRequestSort={handleRequestSort}\n                        onSelectAllClick={handleSelectAllClick}\n                      />\n                      <TableBody>\n                        {categoryList.map((row) => {\n                          const { _id, title, slug, status } = row;\n                          const isItemSelected = selected.indexOf(_id) !== -1;\n                          const isStatus = status === 'ACTIVE' ? 'success' : 'banned';\n                          return (\n                            <TableRow\n                              hover\n                              key={_id}\n                              tabIndex={-1}\n                              role=\"checkbox\"\n                              selected={isItemSelected}\n                              aria-checked={isItemSelected}\n                            >\n                              <TableCell padding=\"checkbox\">\n                                <Checkbox\n                                  checked={isItemSelected}\n                                  onChange={(event) => handleClick(event, _id)}\n                                />\n                              </TableCell>\n                              <TableCell align=\"left\">{title}</TableCell>\n                              <TableCell align=\"left\">{_id}</TableCell>\n                              <TableCell align=\"left\">{slug}</TableCell>\n                              <TableCell align=\"left\">\n                                <Label\n                                  variant=\"ghost\"\n                                  color={(isStatus === 'banned' && 'error') || 'success'}\n                                >\n                                  {sentenceCase(status)}\n                                </Label>\n                              </TableCell>\n                              <TableCell align=\"left\">\n                                <MoreMenu\n                                  handleDelete={() => handleDelete(_id)}\n                                  setOpen={setOpen}\n                                  handleEdit={() => history.push(`/dashboard/category/edit/${_id}`)}\n                                />\n                              </TableCell>\n                            </TableRow>\n                          );\n                        })}\n                      </TableBody>\n                    </Table>\n                  </TableContainer>\n                </Scrollbar>\n\n                {categoryList.length <= 0 && (\n                  <Box textAlign=\"center\" mt={5}>\n                    {' '}\n                    <Typography>Hiện tại chưa có danh mục nào</Typography>\n                  </Box>\n                )}\n                <TablePagination\n                  rowsPerPageOptions={[5, 10, 15, 20, 25]}\n                  component=\"div\"\n                  count={count}\n                  rowsPerPage={filters.limit}\n                  page={filters.page}\n                  onPageChange={handleChangePage}\n                  onRowsPerPageChange={handleChangeRowsPerPage}\n                />\n              </>\n            )}\n          </Card>\n        </Container>\n      </Page>\n      {/* Modal Delete */}\n      <Dialog\n        open={open}\n        onClose={() => setOpen(false)}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">Xóa Danh Mục</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            Bạn có chăc chắn muốn xóa danh mục này không ?\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setOpen(false)} color=\"primary\">\n            Hủy\n          </Button>\n          <Button onClick={() => onDeleteCategory()} color=\"primary\" autoFocus>\n            Đồng ý\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}